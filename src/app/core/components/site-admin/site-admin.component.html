<div class="content-wrapper">
  <div *ngIf="!editMode">
      <div class="grid-row">
        <h1 class="heading-large">
          <div class="title">Users from {{ courtName$ | async }}</div>
          <div class="btn">
            <button id="add-user-modal" class="button" (click) = "onClickAddUser()">Add user</button>
          </div>
        </h1>
      </div>
      <div class="grid-row grid-header grid-border">
        <div class="tabular-grid__three-quarters">
          Email
        </div>
        <div class="tabular-grid__one-quarter">
        </div>
      </div>
      <div *ngFor="let email of (emails$ | async)" class="grid-row grid-border">
        <div class="tabular-grid__three-quarters">
          {{ email }}
        </div>
        <div class="tabular-grid__one-quarter">
          <a>delete</a>
        </div>
      </div>
  </div>
  <div *ngIf="editMode">
    <h1 class="heading-xlarge">Add new user</h1>
    <form (submit)="f.form.valid && onFormSubmission($event)" #f="ngForm" novalidate>
      <div class="form-group" [ngClass]="{ 'form-group-error': f.submitted && (user_email.invalid || serverFailure) }">
        <label class="form-label" for="user-email">
          <span>Email</span>
        <div *ngIf="f.submitted && (user_email.invalid || serverFailure)" class="invalid-feedback">
          <span class="error-message" *ngIf="user_email.errors && user_email.errors.required">Enter email</span>
          <span class="error-message" *ngIf="user_email.errors && user_email.errors.minlength">Email must be at least 3 characters</span>
          <span class="error-message" *ngIf="user_email.errors && user_email.errors.maxlength">Email must not be more than 256 characters</span>
          <span class="error-message" *ngIf="user_email.errors && user_email.errors.email">Please provide a valid email address</span>
          <span class="error-message" *ngIf="serverFailure">{{ serverFailure }}</span>
        </div>
        </label>
        <input class="form-control" autocomplete="off" id="user_email" name="user_email" type="email"
          required
          minlength="3"
          maxlength="256"
          #user_email="ngModel"
          email = "true"
          [(ngModel)]="userEmail">
        </div>
        <div class="button-grid">
          <button class="button" type="submit" id="add-user">
            Add user
          </button>
          <div class="spacer">&nbsp;</div>
          <button (click) = "onClickCancel()" class="button button-cancel" id="cancel-add-user">
            Cancel
          </button>
        </div>
    </form>
  </div>
</div>
