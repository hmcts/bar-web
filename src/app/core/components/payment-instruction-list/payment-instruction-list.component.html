<div>

  <div class="grid-row">
    <div class="column-one-half">
      <h1 class="heading-xlarge">
        Payments List
        <span class="heading-secondary"></span>
      </h1>
    </div>
  </div>

  <div class="grid-row">
    <div class="column-one-quarter">
      <app-card
        label="Pending"
        [number]="countPendingPayments"
        [selected]="isCurrentStatus(paymentStatus, 'P')"
        (click)="selectPaymentStatus('PENDING')"></app-card>
    </div>

    <div class="column-one-quarter">
      <app-card
        label="Rejected"
        [number]="countRejectedPayments"
        [selected]="isCurrentStatus(paymentStatus, 'REJ')"
        (click)="selectPaymentStatus('REJECTED')"></app-card>
    </div>
  </div>

  <br /><br />

  <form (submit)="onFormSubmission()">
    <div class="form-group">
      <div class="form-group__content">
        <div class="form-group__fee-logs" *ngIf="searchResults.length > 0">
          <table>
            <thead>
              <tr>
                <th>Payment ID &#9660;</th>
                <th>Date &#9660;</th>
                <th>Payer name &#9660;</th>
                <th>Payment Type &#9660;</th>
                <th>Payment Reference &#9660;</th>
                <th>Amount &#9660;</th>
                <th>Status &#9660;</th>
              </tr>
            </thead>
            <tbody class="bar-feelogs-th" *ngFor="let fee_log of currentPaymentInstructions">
              <tr class="bar-feelogs-th">
                <td class="bar-feelogs-td">
                  <a [routerLink]="'/feelog/edit/' + fee_log.id">{{ fee_log.daily_sequence_id }}</a>
                </td>
                <td class="bar-feelogs-td">
                  {{ fee_log.payment_date | date:'dd/MMM/yyyy' }}
                </td>
                <td class="bar-feelogs-td">
                  {{ fee_log.payer_name }}
                </td>
                <td class="bar-feelogs-td">
                  {{ fee_log.payment_type.name }}
                </td>
                <td class="bar-feelogs-td">
                  {{ fee_log.getPaymentReference() }}
                </td>
                <td class="bar-feelogs-td amount">
                  {{ fee_log.amount | currency: fee_log.currency: 2.2 }}
                </td>
                <td class="bar-feelogs-td">
                  {{ fee_log.status }}
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="loading" *ngIf="searchResults.length < 1 && loading === true">
          <p>
            Loading...<br />
            <em class="fa fa-circle-o-notch fa-spin fa-3x fa-fw"></em>
            <span class="sr-only">Loading...</span>
          </p>
        </div>

        <div class="no-results-found" *ngIf="searchResults.length < 1 && loading === false">
          No results found
        </div>
      </div>
    </div>
  </form>

</div>
